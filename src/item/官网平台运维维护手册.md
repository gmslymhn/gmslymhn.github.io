---
# 🏷️ 基础信息
title: "官网平台运维维护手册"   # 【可选】用于导航栏/侧边栏显示的简短标题
description: "官网平台运维维护手册" # 【SEO优化】用于搜索引擎显示的描述
icon: "" # 【可选】标题旁显示的图标（支持iconfont/图片路径）

# 👤 作者信息
author: 
  - name: "GM"    # 支持字符串或对象形式
    url: "https://github.com/gmslymhn" 
    email: "gmslymhn@163.com"
# 或简写: author: "你的名字" 
# 关闭作者显示: author: false

# 🕒 时间与原创
date: 2024-06-21              # 【推荐】格式：YYYY-MM-DD 或 YYYY-MM-DD hh:mm:ss
isOriginal:               # 【可选】标记为原创文章（默认false）

# 🏷️ 分类标签
category: ["转载"]         # 支持字符串或数组
tag: ["创新实验室"]      # 多个标签用数组表示

# 📜 版权信息
license: ""    # 协议类型（默认使用主题配置）
copyright: "未经许可禁止转载"  # 自定义版权文字（设为false可隐藏）

# 🔍 功能开关
pageview: false                # 是否显示浏览量（需要Waline配置）
article: true                 # 是否加入文章列表（默认true）
timeline: true                # 是否显示在时间线（默认true）

# ⭐ 内容推荐
sticky:                     # 置顶优先级（数字越大越靠前，false关闭）
star:                        # 星标优先级（数字越大越靠前）

# 🖼️ 封面图设置
cover: "https://picabstract-preview-ftn.weiyun.com/ftn_pic_abs_v3/2cd8d25d77fce66d1db9831b5b79ce00d927cb4d1d757a6ac301453ef1d679f2c2872321558c3c5a4bf095f73419ca5f?pictype=scale&from=30013&version=3.3.3.3&fname=2025-06-225aZwr.jpg&size=750"  # 文章卡片封面图（建议尺寸：1200×600）

---
官网平台运维维护手册
<!-- more -->
## 1.安装宝塔面板

安装宝塔面板，具体搜索网上教程

关闭所有防火墙，没必要，直接使用服务器服务商的安全组。

自行修改宝塔面板的 账号 密码 端口等数据

安装宝塔后安装如下配置

1. Mysql数据库（8.0）
2. Redis数据库
3. 下载JDK （官网JDK版本为17）
4. nginx
5. Docker

![](https://picabstract-preview-ftn.weiyun.com/ftn_pic_abs_v3/059dea37f873311479551537a6ef2b2fbac97e8c83250f611f59856da4845a6a22af7c4b3fea1ec0107d1371498aa212?pictype=scale&from=30013&version=3.3.3.3&fname=2025-06-215uASf.png&size=750)

![](http://picabstract.preview.ftn.qq.com/ftn_pic_abs_v3/3500184c244e27d0cec21e98a9db825ee5508bfafcb20738285357890009e027c4a954159e243e1eccb8bdee44429f45?pictype=scale&from=30013&version=3.3.3.3&fname=2025-06-21yopvX.png&size=750)
## 2.MySql

将sql数据库放入mysql数据库

## 3.部署

部署采用前后端分离的部署

1. 部署后端jar文件，端口映射 8080（可更改）
2. 部署前端文件，官网前台部分  端口映射 8081（可更改）
3. 部署前端文件，官网后台部分  端口映射 8082（可更改）

如果按如上部署，前端打包前需定义好调取后端接口的地址。

这时已完成最基本的部署。

# 进阶部署

## 1.集成雷池

安装长亭雷池WAF，具体搜索网上教程

安装长亭雷池WAF后安装如下配置，如有修改可以联系网安组，我自己摸索。

自行修改账号密码等信息

1. 添加防护站站点后端，上游服务器地址：http://127.0.0.1:8080，域名设置：*，端口设置：8083
2. 添加防护站站点官网前台，上游服务器地址：http://127.0.0.1:8081，域名设置：*，端口设置：8084
3. 添加防护站站点官网后台，上游服务器地址：http://127.0.0.1:8082，域名设置：*，端口设置：8085
4. 以上防护只需要添加频率限制，其他均不需要，其中后端接口的频率验证可以适当放宽些，例如10s限制100次访问。

## 2.防护配置

1. 防护配置——自定义规则
2. 对后端接口的druid 添加身份认证
3. 对后端接口的接口文档（doc.html） 添加身份认证
4. 添加白名单，黑名单等信息
5. 如有问题可以询问网安组

![](http://picabstract.preview.ftn.qq.com/ftn_pic_abs_v3/e539daf4759bcae25c0cc6d8120e4241705e0771b2e40dfaa0e72f0f24ffba3ce579304e4435325b9d55b96570a658db?pictype=scale&from=30013&version=3.3.3.3&fname=2025-06-21RIoZa.png&size=750)

![](http://picabstract.preview.ftn.qq.com/ftn_pic_abs_v3/61f44a74d536830893aea461ecd5c61cb9f8c552d74f0a258582be1c7c0420fc629bd4e22c95fe4e2ce0b9eb0eab70ce?pictype=scale&from=30013&version=3.3.3.3&fname=2025-06-214dJkh.png&size=750)

![](http://picabstract.preview.ftn.qq.com/ftn_pic_abs_v3/ba39aae87b2ed6318c73d1afe08e7e363dbbf30ac4acc96571cd3b0b7d1569c75a9c3bb22b6a7b98c6437693a8a8b15d?pictype=scale&from=30013&version=3.3.3.3&fname=2025-06-21arU42.jpg&size=750)

![](https://picabstract-preview-ftn.weiyun.com/ftn_pic_abs_v3/f8121e57c25691d251c4d6a602f7f6664cc4a5a9ab74ca08a0276a0f03e1973bfbeeb57015bcb8ad3063950b6e91773e?pictype=scale&from=30013&version=3.3.3.3&fname=2025-06-21qBXsC.png&size=750)

## 3.集成Dify

安装Dify，具体搜索网上教程

安装Dify会占用80端口，那是流氓行为，可以修改配置修改占用的端口，具体上网搜索这里占用端口8086

1. 添加聊天助手
2. 添加如下配置
3. 接入人工智能模型API，例如DeepSeek，具体参考网络教程

```xml
```xml

<instruction>

你是太原理工大学软件学院创新实验室的人工智能助理，负责回答问题。按照以下步骤完成任务：

1. 仔细阅读输入的问题。

2. 分析问题，了解用户的意图和他们正在寻找的信息。

3. 对问题给出一个清晰、简洁、准确的回答。确保响应是有用的，并充分解决用户的查询。

4. 如果这个问题需要额外的背景或澄清，礼貌地要求更多的细节。

5. 确保输出不包含任何XML标记或不必要的格式。

输出应该是直接回答用户问题的纯文本响应。

</instruction>







<example>

<user_question>创新实验室是什么地方？</user_question>

<response_to_user_question>软件学院创新实验室位于软件学院行勉楼实验室一层，是隶属于软件学院的学生创新实践基地，我们的宗旨在于丰富学生课外知识、提升学生创新实践能力。实验室在学院党政领导关心和支持下，由软件学院副院长曹锐副教授、软件学院实训部主任王星魁副教授牵头创建，指导老师包含了校内指导老师与若干合作企业指导老师。  </response_to_user_question>

</example>



<example>

<user_question>创新实验室有几个部门？</user_question>

<response_to_user_question>创新实验室内部设有软件开发、网络安全、人工智能、虚拟现实及算法竞赛五个学习方向小组。我们致力于为有意提升专业技术能力的学生提供良好的环境与平台，同时也为学生创造了一个交流技术的机会。在这里，您可以找到志同道合的伙伴，充分发挥和提升自己的专业技能，并将所学的创新知识应用于实际项目中。</response_to_user_question>

</example>

<example>

<user_question>怎么加入创新实验室？</user_question>

<response_to_user_question>创新实验室每学期会在各大一班级群内发布招新公告，同学们可根据公告内容加入实验室。同时，创新实验室有自己的官方网站，官网会公布实验室最新动态、联系方式等内容，可以查看官网最新动态获取招新信息。</response_to_user_question>

</example>

```

```

```

![](http://picabstract.preview.ftn.qq.com/ftn_pic_abs_v3/d4a4823f30b4ad9ca0e6e4d047ed7889cc094322f566fc99db4582981e9a60c0f09935c282db34b5b9766e2505009e54?pictype=scale&from=30013&version=3.3.3.3&fname=2025-06-21nP1sy.png&size=750)
## 永久图床的部署

基于微云实现的永久图床的转换，项目最内核的文件管理是上传到了蓝奏云上，但所有文件每次解析获取直连都存在有效期，这大量的缓存图片解析会存在并发量大导致部分文件无法获取的情况，为此需要在上传图片过多时将图片转为永久图床，这里以微云为例。

1. 点击后台的资源管理模块。
2. 尽可能多的让文件缓存出来，就是多点几个网页，资源只要被展示，就会缓存下来（如果图片已经是永久直连了就不会显示在图片缓存那里）。
3. 点击图片缓存管理，下载缓存的所有图片（注意：文件名不能有任何修改），如果出现下载问题，可以试着打开多文件下载，或者清除所有缓存，让图片重新缓存。
4. 将图片批量上传到微云（提前建好文件夹），上传好后点击F12，监听网络连接
5. 找到DirBatchList?refer=chrome\_windows开头的网路连接，一般是响应内容最大的
6. 里边有类似链接的东西，例如："https_url": "https://picabstract-preview"的部分
7. 复制所有内容，粘贴到图片缓存管理中去，并点击上传，后端会自动逻辑处理。

![](http://picabstract.preview.ftn.qq.com/ftn_pic_abs_v3/26eb450a624e1005d761e4f50aa638348fc0b7d1c19d27b8ce2e52c154f7b5820659923b495cf26e83c50e83ff364ddc?pictype=scale&from=30013&version=3.3.3.3&fname=2025-06-22Vst4v.png&size=750)

![](https://picabstract-preview-ftn.weiyun.com/ftn_pic_abs_v3/f3b7944a6e893a5ce181690ac19bc379f118aec474edf189a9524819bf8e3bd39b0da25e416fe40fa1458e2f8ab1682e?pictype=scale&from=30013&version=3.3.3.3&fname=2025-06-22kqGnk.png&size=750)

![](https://picabstract-preview-ftn.weiyun.com/ftn_pic_abs_v3/69b16304426cd2c06f2b447d9b9285e004b60ecceb887d514cae7567b35f23ec5d20ec826e9571bcfeb3b01e0a40f8da?pictype=scale&from=30013&version=3.3.3.3&fname=2025-06-22WyznO.png&size=750)

![](http://picabstract.preview.ftn.qq.com/ftn_pic_abs_v3/df9132551e9ceddf21137bbd9d108247c350c1b346d5355bf44bb36dda4e83c7205c1ef23508d65fe9a633c720a99fe4?pictype=scale&from=30013&version=3.3.3.3&fname=2025-06-22a5HK0.png&size=750)

## 并发图片测试

![](https://picabstract-preview-ftn.weiyun.com/ftn_pic_abs_v3/acc4784951e42d9711b8da3b22ae2aa9ba85e1643bcfd67315e52044bfe7d25ff092815b8463a332b6930634a3557da7?pictype=scale&from=30013&version=3.3.3.3&fname=2025-06-21SSIlF.jpg&size=750)

![](https://picabstract-preview-ftn.weiyun.com/ftn_pic_abs_v3/0aa0f64c9c5628250ac0d3189bacd5424d339182d89c90fca8e6604ebe25256eeebfda365fabe709bcb8c46ed92e861b?pictype=scale&from=30013&version=3.3.3.3&fname=2025-06-21pd1KJ.jpg&size=750)

![](https://picabstract-preview-ftn.weiyun.com/ftn_pic_abs_v3/04b85312f3643fea1fb3f414e5418b146d3c904a38a9a136b3ff1d2db99fce5b02b35bd5c635938a20adb2ca58cc9ab2?pictype=scale&from=30013&version=3.3.3.3&fname=2025-06-21cgq5b.jpg&size=750)

![](http://picabstract.preview.ftn.qq.com/ftn_pic_abs_v3/8104dc8e7e5d34a771738074c68e862ea6243c738335b1b97a5cdf8f731010ac8638757b2f48cc325724e10704a41852?pictype=scale&from=30013&version=3.3.3.3&fname=2025-06-21fC6TL.jpg&size=750)

![](https://picabstract-preview-ftn.weiyun.com/ftn_pic_abs_v3/0b812143bfbbf673dfe8b16704c7ab77c8034cc6b81ac4d1019c4bc3ca3855459cd8435a268da15f375400503dcc4381?pictype=scale&from=30013&version=3.3.3.3&fname=2025-06-21iNyZW.jpg&size=750)

![](http://picabstract.preview.ftn.qq.com/ftn_pic_abs_v3/8e62988df6d5300d965775e34ef70400a8419472b120aac3e714ca50a215c224f32944da45bfc1b59c96cd7ecea28b66?pictype=scale&from=30013&version=3.3.3.3&fname=2025-06-21hUUJ0.jpg&size=750)
